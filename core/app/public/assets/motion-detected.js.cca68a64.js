function t(t,e,s="red"){const i=t.getContext("2d");for(const{x:n,y:r,w:a,h:c}of e)i.beginPath(),i.strokeStyle=s,i.lineWidth=2,i.rect(n,r,a,c),i.closePath(),i.stroke()}class e extends HTMLElement{constructor(){super()}connectedCallback(){if(this.innerHTML='\n        <canvas class="motion-picture"></canvas>\n        ',this.canvas=this.querySelector(".motion-picture"),this.pictureUrl=this.dataset.picture,!this.pictureUrl)throw Error("data-picture should be defined as the picture url to render.");try{this.boundingBoxes=JSON.parse(this.dataset.boundingBoxes),this.cameraBoxes=JSON.parse(this.dataset.cameraBoxes)}catch(e){}(function(t,e){const s=new Image;return s.src=e,new Promise(((e,i)=>{s.onload=function(){const i=t.getContext("2d");t.width=s.width,t.height=s.height,i.clearRect(0,0,s.width,s.height),i.drawImage(s,0,0),e(s)}}))})(this.canvas,this.pictureUrl).then((()=>{t(this.canvas,this.boundingBoxes),t(this.canvas,this.cameraBoxes,"blue")}))}}customElements.define("motion-picture",e);
